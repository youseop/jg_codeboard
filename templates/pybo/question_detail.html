{% extends 'base.html' %}
{% block content %}
<!-- -------------------------------------- [edit] ------------------------------------------ -->
<h1>{{ question.subject }}</h1>

<div>
    {{question.content}}
    <td>{{ question.author.username }}</td> 
    <td>{{ question.create_date }}</td>
</div>
<!---------------------------------------- [edit] ------------------------------------------ -->
<h5>{{question.answer_set.count}}개의 답변이 있습니다.</h5>
<div>
    <ul>
    {% for answer in question.answer_set.all %}
        <li>{{ answer.content }}</li>
        <td>{{ answer.author.username }}</td> 
        <td>{{ answer.create_date }}</td>
    {% endfor %}
    </ul>
</div>

<!---------------------------------------- [edit] ------------------------------------------ -->
<form action="{% url 'pybo:answer_create' question.id %}" method="post">
{% csrf_token %}
{% if form.errors %}
    <div class="alert alert-danger" role="alert">
    {% for field in form %}
        {% if field.errors %}
        <strong>{{ field.label }}</strong>
        {{ field.errors }}
        {% endif %}
    {% endfor %}
    </div>
{% endif %}
<textarea {% if not user.is_authenticated %}disabled{% endif %} name="content" id="content" rows="15"></textarea> 
<input type="submit" value="답변등록">
</form>
<!---------------------------------------- [edit] ------------------------------------------ -->
{% endblock %}